<header x-data="nav()">
  <a href="/" class="homelink">🏠 <strong>DW<span class="accent">CC</span></strong></a>

  <button class="nav-toggle" @click="toggleNav" x-cloak>👨🏼‍🍳</button>

  {% if navigation.items %}
    <nav x-show.transition.origin.top.right="isOpen" x-cloak>
      <ul>
          {% for recipe in collections.recipes %}
            {% set isCurrent = '' %}

            {% if page.url == recipe.data.url %}
              {% set isCurrent = ' aria-current="page"' %}
            {% endif %}
            <li>
                <a href="{{ recipe.url }}" class="nav-link"{{ isCurrent | safe }}>
                {{ recipe.data.icon }} {{ recipe.data.nav_title if recipe.data.nav_title else recipe.data.title }}
                </a>
            </li>
          {% endfor %}
      </ul>
    </nav>
  {% endif %}
</header>

<script>
  function nav() {
    return {
      isOpen: false,
      toggleNav: function() {
        this.isOpen = !this.isOpen
      },
    }
  }
</script>